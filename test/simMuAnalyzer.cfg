process Rec = {

 include "CondCore/DBCommon/data/CondDBSetup.cfi"

 #
 ### input
 #

    source = PoolSource {
       untracked vstring fileNames = 
     {'rfio:/castor/cern.ch/cms/store/relval/2008/3/12/RelVal-RelValSingleMuPlusPt100-1205356055/0000/44DB3F3D-CBF0-DC11-92F5-000423D6C8E6.root'}
    }
    untracked PSet maxEvents = {untracked int32 input = 10000}


 #
 ## DQM
 #

  include "DQMServices/Core/data/DQM.cfg"
  replace DQM.collectorHost = ""

  include "RecoMuon/TrackingTools/data/MuonServiceProxy.cff"
  include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cff"
  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
  include "Geometry/CommonDetUnit/data/globalTrackingGeometry.cfi"
  include "RecoMuon/DetLayers/data/muonDetLayerGeometry.cfi"

  service = Timing {}

  include "DQMServices/Components/data/MEtoEDMConverter.cfi"

  # the task
  include "DQMOffline/Muon/data/muonAnalyzer.cfi"

  # the clients
  include "DQMOffline/Muon/data/trackResidualsTest.cfi"

  module qTester = QualityTester{
     untracked int32 prescaleFactor = 1
     untracked FileInPath qtList = "DQMOffline/Muon/data/QualityTests.xml" 
  }


  service = MessageLogger {
        untracked vstring destinations = { "cout" }
        untracked vstring debugModules = { "muonAnalyzer", "muTrackResidualsTest" }
        untracked vstring categories = { "muonAnalyzer","seedsAnalyzer","muEnergyDeposit","muRecoAnalyzer", "trackResidualsTest" }
        untracked PSet cout = {
            untracked string threshold = "DEBUG"
            untracked PSet default = { untracked int32 limit = 0 }
            untracked PSet FwkJob  = { untracked int32 limit = 0 }
            untracked bool noLineBreaks = true
            untracked PSet DEBUG = {untracked int32 limit = 0 }
            untracked PSet muonAnalyzer = {untracked int32 limit = 10000000}
            untracked PSet seedsAnalyzer = {untracked int32 limit = 10000000}
            untracked PSet muEnergyDepositAnalyzer = {untracked int32 limit = 10000000}
            untracked PSet muRecoAnalyzer = {untracked int32 limit = 10000000}
            untracked PSet trackResidualsTest = {untracked int32 limit = 10000000}		
        }
    } 


 #
 ### output module
 #

   module FEVT = PoolOutputModule {
	untracked string fileName = 'reco-grumm.root'
        untracked vstring outputCommands =
            {
               "keep *_MEtoEDMConverter_*_*"
            }
    }
   untracked PSet options = {
        untracked bool wantSummary = true  # default is false
    }


   path p = { muonAnalyzer, muTrackResidualsTest, qTester }

   endpath outpath = {FEVT}

}
